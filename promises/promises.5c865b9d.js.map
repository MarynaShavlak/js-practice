{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAa,CAAC,QAAS,MAAO,WAC9BC,EAAUC,SAASC,cAAc,aACjCC,EAASF,SAASC,cAAc,YAChCE,EAAgBH,SAASC,cAAc,mBACvCG,EAASJ,SAASC,cAAc,YAItC,SAASI,EAAYC,GACnB,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3B,MAAMC,EAJmBC,KAAKC,KAAqB,IAAhBD,KAAKE,UAKxCC,YAAW,KACLJ,EAAQ,KACVF,EAAQ,C,UAAEF,EAAWS,MAAOL,IAE5BD,EAAO,C,UAAEH,EAAWS,MAAOL,EAAOM,MAAO,iBAAkB,GAE5DN,EAAM,G,CAIb,SAASO,GAAUX,UAAEA,EAASS,MAAEA,IAC9BnB,EAAAsB,OAAOC,QAAQ,KAAGb,cAAwBS,O,CAE5C,SAASK,GAAQd,UAAEA,EAASS,MAAEA,EAAKC,MAAEA,IACnCpB,EAAAsB,OAAOG,QAAQ,KAAGL,MAAUV,iBAAyBS,O,CAGvDhB,EAAQuB,iBAAiB,SAKzB,WACE,MAAMC,EAAWzB,EAAW0B,IAAInB,GAChCE,QAAQkB,KAAKF,GAAUG,KAAKT,GAAWU,MAAMP,E,IAN/ClB,EAAOoB,iBAAiB,SASxB,WACE,MAAMC,EAAWzB,EAAW0B,IAAInB,GAChCE,QAAQqB,IAAIL,GACTG,MAAKG,GAAOA,EAAIC,QAAQb,KACxBU,MAAMP,E,IAZXjB,EAAcmB,iBAAiB,SAe/B,WACE,MAAMC,EAAWzB,EAAW0B,IAAInB,GAChCE,QAAQwB,WAAWR,GAAUG,MAAKG,GAChCA,EAAIC,SAAQ,EAACE,OAAEA,EAAMC,OAAEA,EAAMC,MAAEA,MACd,cAAXF,EACFf,EAAUiB,GAEVd,EAAQa,EAAO,K,IArBvB7B,EAAOkB,iBAAiB,SA2BxB,WACE,MAAMC,EAAWzB,EAAW0B,IAAInB,GAChCE,QAAQ4B,IAAIZ,GACTG,KAAKT,GACLU,OAAM,EAACS,OAAEA,MACRA,EAAON,QAAQV,EAAQ,IAExBO,OAAM,EAACS,OAAEA,EAAMC,QAAEA,EAAOC,MAAEA,KAAYC,QAAQC,IAAIJ,EAAQC,EAASC,I","sources":["src/promises/promises.js"],"sourcesContent":["import { Notify } from 'notiflix';\n\nconst frameworks = ['React', 'Vue', 'Angular'];\nconst raceBtn = document.querySelector('.race-btn');\nconst allBtn = document.querySelector('.all-btn');\nconst allSettledBtn = document.querySelector('.allSettled-btn');\nconst anyBtn = document.querySelector('.any-btn');\n\nconst getRandomDelay = () => Math.ceil(Math.random() * 2000);\n\nfunction makePromise(framework) {\n  return new Promise((resolve, reject) => {\n    const DELAY = getRandomDelay();\n    setTimeout(() => {\n      if (DELAY < 1500) {\n        resolve({ framework, delay: DELAY });\n      } else {\n        reject({ framework, delay: DELAY, error: 'Promise error' });\n      }\n    }, DELAY);\n  });\n}\n\nfunction onSuccess({ framework, delay }) {\n  Notify.success(`✅ ${framework} won with ${delay} ms`);\n}\nfunction onError({ framework, delay, error }) {\n  Notify.failure(`❌ ${error}! ${framework} rejected in ${delay} ms`);\n}\n\nraceBtn.addEventListener('click', onRaceBtnClick);\nallBtn.addEventListener('click', onAllBtnClick);\nallSettledBtn.addEventListener('click', onAllSettledBtnClick);\nanyBtn.addEventListener('click', onAnyBtnClick);\n\nfunction onRaceBtnClick() {\n  const promises = frameworks.map(makePromise);\n  Promise.race(promises).then(onSuccess).catch(onError);\n}\n\nfunction onAllBtnClick() {\n  const promises = frameworks.map(makePromise);\n  Promise.all(promises)\n    .then(res => res.forEach(onSuccess))\n    .catch(onError);\n}\n\nfunction onAllSettledBtnClick() {\n  const promises = frameworks.map(makePromise);\n  Promise.allSettled(promises).then(res =>\n    res.forEach(({ status, reason, value }) => {\n      if (status === 'fulfilled') {\n        onSuccess(value);\n      } else {\n        onError(reason);\n      }\n    })\n  );\n}\n\nfunction onAnyBtnClick() {\n  const promises = frameworks.map(makePromise);\n  Promise.any(promises)\n    .then(onSuccess)\n    .catch(({ errors }) => {\n      errors.forEach(onError);\n    })\n    .catch(({ errors, message, stack }) => console.dir(errors, message, stack));\n}\n"],"names":["$7Y9D8","parcelRequire","$a10245cbe4e70d42$var$frameworks","$a10245cbe4e70d42$var$raceBtn","document","querySelector","$a10245cbe4e70d42$var$allBtn","$a10245cbe4e70d42$var$allSettledBtn","$a10245cbe4e70d42$var$anyBtn","$a10245cbe4e70d42$var$makePromise","framework","Promise","resolve","reject","DELAY","Math","ceil","random","setTimeout","delay","error","$a10245cbe4e70d42$var$onSuccess","Notify","success","$a10245cbe4e70d42$var$onError","failure","addEventListener","promises","map","race","then","catch","all","res","forEach","allSettled","status","reason","value","any","errors","message","stack","console","dir"],"version":3,"file":"promises.5c865b9d.js.map"}