{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAa,CAAC,QAAS,MAAO,WAC9BC,EAAUC,SAASC,cAAc,aACjCC,EAASF,SAASC,cAAc,YAChCE,EAAgBH,SAASC,cAAc,mBACvCG,EAASJ,SAASC,cAAc,YAItC,SAASI,EAAYC,GACnB,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3B,IAAMC,EAJmBC,KAAKC,KAAqB,IAAhBD,KAAKE,UAKxCC,YAAW,WACLJ,EAAQ,KACVF,EAAQ,CAAEF,YAAWS,MAAOL,IAE5BD,EAAO,CAAEH,YAAWS,MAAOL,EAAOM,MAAO,iB,GAE1CN,E,IAIP,SAASO,EAAUC,G,IAAEZ,EAAFY,EAAEZ,UAAWS,EAAbG,EAAaH,MAC9BnB,EAAAuB,OAAOC,QAAQ,KAA6BC,OAAtBf,EAAU,cAAkBe,OAANN,EAAM,O,CAEpD,SAASO,EAAQJ,G,IAAEZ,EAAFY,EAAEZ,UAAWS,EAAbG,EAAaH,MAAOC,EAApBE,EAAoBF,MACnCpB,EAAAuB,OAAOI,QAAQ,KAAeF,OAAVL,EAAM,MAA6BK,OAAzBf,EAAU,iBAAqBe,OAANN,EAAM,O,CAG/DhB,EAAQyB,iBAAiB,SAKzB,WACE,IAAMC,EAAW3B,EAAW4B,IAAIrB,GAChCE,QAAQoB,KAAKF,GAAUG,KAAKX,GAAWY,MAAMP,E,IAN/CpB,EAAOsB,iBAAiB,SASxB,WACE,IAAMC,EAAW3B,EAAW4B,IAAIrB,GAChCE,QAAQuB,IAAIL,GACTG,MAAK,SAAAG,G,OAAOA,EAAIC,QAAQf,E,IACxBY,MAAMP,E,IAZXnB,EAAcqB,iBAAiB,SAe/B,WACE,IAAMC,EAAW3B,EAAW4B,IAAIrB,GAChCE,QAAQ0B,WAAWR,GAAUG,MAAK,SAAAG,G,OAChCA,EAAIC,SAAQ,SAAAd,G,IAAGgB,EAAMhB,EAANgB,OAAQC,EAAMjB,EAANiB,OAAQC,EAAKlB,EAALkB,MACd,cAAXF,EACFjB,EAAUmB,GAEVd,EAAQa,E,UArBhB/B,EAAOoB,iBAAiB,SA2BxB,WACE,IAAMC,EAAW3B,EAAW4B,IAAIrB,GAChCE,QAAQ8B,IAAIZ,GACTG,KAAKX,GACLY,OAAM,SAAAX,GAASA,EAANoB,OACDN,QAAQV,E,IAEhBO,OAAM,SAAAX,G,IAAGoB,EAAMpB,EAANoB,OAAQC,EAAOrB,EAAPqB,QAASC,EAAKtB,EAALsB,M,OAAYC,QAAQC,IAAIJ,EAAQC,EAASC,E","sources":["src/promises/promises.js"],"sourcesContent":["import { Notify } from 'notiflix';\n\nconst frameworks = ['React', 'Vue', 'Angular'];\nconst raceBtn = document.querySelector('.race-btn');\nconst allBtn = document.querySelector('.all-btn');\nconst allSettledBtn = document.querySelector('.allSettled-btn');\nconst anyBtn = document.querySelector('.any-btn');\n\nconst getRandomDelay = () => Math.ceil(Math.random() * 2000);\n\nfunction makePromise(framework) {\n  return new Promise((resolve, reject) => {\n    const DELAY = getRandomDelay();\n    setTimeout(() => {\n      if (DELAY < 1500) {\n        resolve({ framework, delay: DELAY });\n      } else {\n        reject({ framework, delay: DELAY, error: 'Promise error' });\n      }\n    }, DELAY);\n  });\n}\n\nfunction onSuccess({ framework, delay }) {\n  Notify.success(`✅ ${framework} won with ${delay} ms`);\n}\nfunction onError({ framework, delay, error }) {\n  Notify.failure(`❌ ${error}! ${framework} rejected in ${delay} ms`);\n}\n\nraceBtn.addEventListener('click', onRaceBtnClick);\nallBtn.addEventListener('click', onAllBtnClick);\nallSettledBtn.addEventListener('click', onAllSettledBtnClick);\nanyBtn.addEventListener('click', onAnyBtnClick);\n\nfunction onRaceBtnClick() {\n  const promises = frameworks.map(makePromise);\n  Promise.race(promises).then(onSuccess).catch(onError);\n}\n\nfunction onAllBtnClick() {\n  const promises = frameworks.map(makePromise);\n  Promise.all(promises)\n    .then(res => res.forEach(onSuccess))\n    .catch(onError);\n}\n\nfunction onAllSettledBtnClick() {\n  const promises = frameworks.map(makePromise);\n  Promise.allSettled(promises).then(res =>\n    res.forEach(({ status, reason, value }) => {\n      if (status === 'fulfilled') {\n        onSuccess(value);\n      } else {\n        onError(reason);\n      }\n    })\n  );\n}\n\nfunction onAnyBtnClick() {\n  const promises = frameworks.map(makePromise);\n  Promise.any(promises)\n    .then(onSuccess)\n    .catch(({ errors }) => {\n      errors.forEach(onError);\n    })\n    .catch(({ errors, message, stack }) => console.dir(errors, message, stack));\n}\n"],"names":["$6JpON","parcelRequire","$910a538094362e37$var$frameworks","$910a538094362e37$var$raceBtn","document","querySelector","$910a538094362e37$var$allBtn","$910a538094362e37$var$allSettledBtn","$910a538094362e37$var$anyBtn","$910a538094362e37$var$makePromise","framework","Promise","resolve","reject","DELAY","Math","ceil","random","setTimeout","delay","error","$910a538094362e37$var$onSuccess","param","Notify","success","concat","$910a538094362e37$var$onError","failure","addEventListener","promises","map","race","then","catch","all","res","forEach","allSettled","status","reason","value","any","errors","message","stack","console","dir"],"version":3,"file":"promises.bebbe303.js.map"}