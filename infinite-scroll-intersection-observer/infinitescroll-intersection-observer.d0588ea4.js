!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},l=n.parcelRequired7c6;null==l&&((l=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var l={id:e,exports:{}};return t[e]=l,n.call(l.exports,l,l.exports),l.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,n){r[e]=n},n.parcelRequired7c6=l);var o=new IntersectionObserver((function(e,n){e.forEach((function(e){e.isIntersecting&&(console.log("Привет из колбека в forEach"),console.log(e.target))}))}),{}),a=document.querySelector("#sentinel");o.observe(a);var i=l("l5bVx"),u=e(l("WMajR")).template({1:function(n,t,r,l,o){var a,u=null!=t?t:n.nullContext||{},c=n.hooks.helperMissing,s="function",f=n.escapeExpression,d=n.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'<li>\n  <a href="'+f((void 0===(a=null!=(a=d(r,"url")||(null!=t?d(t,"url"):t))?a:c)?"undefined":e(i)(a))===s?a.call(u,{name:"url",hash:{},data:o,loc:{start:{line:3,column:11},end:{line:3,column:18}}}):a)+'" target="_blank" rel="noopener noreferrer">\n    <article>\n      <img src="'+f((void 0===(a=null!=(a=d(r,"urlToImage")||(null!=t?d(t,"urlToImage"):t))?a:c)?"undefined":e(i)(a))===s?a.call(u,{name:"urlToImage",hash:{},data:o,loc:{start:{line:5,column:16},end:{line:5,column:30}}}):a)+'" alt="" width="480">\n      <h2>'+f((void 0===(a=null!=(a=d(r,"title")||(null!=t?d(t,"title"):t))?a:c)?"undefined":e(i)(a))===s?a.call(u,{name:"title",hash:{},data:o,loc:{start:{line:6,column:10},end:{line:6,column:19}}}):a)+"</h2>\n      <p>Posted by: "+f((void 0===(a=null!=(a=d(r,"author")||(null!=t?d(t,"author"):t))?a:c)?"undefined":e(i)(a))===s?a.call(u,{name:"author",hash:{},data:o,loc:{start:{line:7,column:20},end:{line:7,column:30}}}):a)+"</p>\n      <p>"+f((void 0===(a=null!=(a=d(r,"description")||(null!=t?d(t,"description"):t))?a:c)?"undefined":e(i)(a))===s?a.call(u,{name:"description",hash:{},data:o,loc:{start:{line:8,column:9},end:{line:8,column:24}}}):a)+"</p>\n    </article>\n  </a>\n</li>\n"},compiler:[8,">= 4.3.0"],main:function(e,n,t,r,l){var o;return null!=(o=(e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]})(t,"each").call(null!=n?n:e.nullContext||{},n,{name:"each",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:1,column:0},end:{line:12,column:9}}}))?o:""},useData:!0}),c={};Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")};var s={};function f(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(e,n,t){n&&f(e.prototype,n);t&&f(e,t);return e};var d={headers:{Authorization:"bb47a995514a49758140b073ef1103f5"}},h=function(){"use strict";function n(){e(c)(this,n),this.searchQuery="",this.page=1}return e(s)(n,[{key:"fetchArticles",value:function(){var e=new URLSearchParams({q:this.searchQuery,language:"en",pageSize:10,page:this.page}),n="".concat("https://newsapi.org/v2","/everything?").concat(e);return fetch(n,d).then((function(e){return e.json()})).then((function(e){return e.articles}))}},{key:"incrementPage",value:function(){this.page+=1}},{key:"resetPage",value:function(){this.page=1}},{key:"query",get:function(){return this.searchQuery},set:function(e){this.searchQuery=e}}]),n}(),p={searchForm:document.querySelector(".js-search-form"),articlesContainer:document.querySelector(".js-articles-container"),sentinel:document.querySelector("#sentinel")},m=new h;function g(e){p.articlesContainer.insertAdjacentHTML("beforeend",u(e))}p.searchForm.addEventListener("submit",(function(e){if(e.preventDefault(),m.query=e.currentTarget.elements.query.value,""===m.query)return alert("Введи что-то нормальное");m.resetPage(),p.articlesContainer.innerHTML="",m.fetchArticles().then((function(e){g(e),m.incrementPage()}))}));new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&""!==m.query&&m.fetchArticles().then((function(e){g(e),m.incrementPage()}))}))}),{rootMargin:"150px"}).observe(p.sentinel)}();
//# sourceMappingURL=infinitescroll-intersection-observer.d0588ea4.js.map
