{"mappings":"mkBAAA,aACAA,OAAOC,eAAeC,EAAAC,QAAS,aAAc,CACzCC,OAAO,IAEXF,EAAAC,QAAQE,QACR,SAAyBC,EAAKC,EAAKH,GAC3BG,KAAOD,EACPN,OAAOC,eAAeK,EAAKC,EAAK,CAC5BH,MAAOA,EACPI,YAAY,EACZC,cAAc,EACdC,UAAU,IAGdJ,EAAIC,GAAOH,EAEf,OAAOE,C,cCfXN,OAAOC,eAAeU,EAAS,aAAc,CACzCP,OAAO,IAEXO,EAAQN,QACR,SAAyBO,EAAUC,GAC/B,KAAMD,aAAoBC,GACtB,MAAM,IAAIC,UAAU,oC,WCG5B,SAASC,EAAkBC,EAAQC,GAC/B,IAAI,IAAIC,EAAI,EAAGA,EAAID,EAAME,OAAQD,IAAI,CACjC,IAAIE,EAAaH,EAAMC,GACvBE,EAAWZ,WAAaY,EAAWZ,aAAc,EACjDY,EAAWX,cAAe,EACtB,UAAWW,IAAYA,EAAWV,UAAW,GACjDV,OAAOC,eAAee,EAAQI,EAAWb,IAAKa,E,EAftDpB,OAAOC,eAAeoB,EAAS,aAAc,CACzCjB,OAAO,IAEXiB,EAAQhB,QACR,SAAsBQ,EAAaS,EAAYC,GACvCD,GAAYP,EAAkBF,EAAYW,UAAWF,GACrDC,GAAaR,EAAkBF,EAAaU,GAChD,OAAOV,C,mBCRJY,ECAJ,W,sBDAUC,I,aAKTC,KAAKC,KAAO,KACZD,KAAKE,MAAQ,I,iBAGftB,IAAA,qB,MAAA,WACE,IAAMuB,EAAe,IAAIC,gBAAgB,CACvCF,MAAOF,KAAKE,MACZD,KAAMD,KAAKC,KACXI,SAAU,GACVC,YAAa,WACbC,UAAWR,EAAYS,UAGzB,OAAOC,MAAM,GAAyCC,OAAtCX,EAAYY,SAAS,mBAA8BD,OAAbP,IAAgBS,MACpE,SAAAC,GACE,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAG3B,OAAOH,EAASI,M,UCxBrB,GDCDC,EAAAC,EAAA,CADWrB,EACJ,WAAW,4BAClBoB,EAAAC,EAAA,CAFWrB,EAEJ,UAAU,+CEFZ,IAAMsB,EAAqB,SAAAC,GAShC,OARuBA,EAAUC,KAAI,SAAAC,GACnC,MAAO,uDAEkCb,OAAzBa,EAAGC,KAAKC,QAAQ,WAA4Bf,OAAnBa,EAAGG,gBAAgB,0C,IAKxCC,KAAK,G,ECLvBC,EAAeC,SAASC,cAAc,mBACtCC,EAAgBF,SAASC,cAAc,eACvCE,EAAgBH,SAASC,cAAc,iBAEvCG,EAAc,IAAInC,EAsDxB8B,EAAaM,iBAAiB,UApDH,SAAAC,GACzBA,EAAMC,iBAENH,EAAY/B,MAAQiC,EAAM9C,OAAOgD,SAASC,kBAAkB7D,MAAM8D,OAClEN,EAAYhC,KAAO,EAEnBgC,EACGO,qBACA5B,MAAK,SAAA6B,GACJ,GAA4B,IAAxBA,EAAKC,QAAQlD,OASf,OARAmD,MAAM,2CAENR,EAAM9C,OAAOuD,QAEbb,EAAcc,UAAY,QAE1Bb,EAAcc,UAAUC,IAAI,aAK1BN,EAAKO,YAAc,GACrBhB,EAAcc,UAAUG,OAAO,aAGjClB,EAAcc,UAAYzB,EAAmBqB,EAAKC,Q,IAEnDQ,OAAM,SAAAC,GACLC,QAAQC,IAAIF,E,OAyBlBnB,EAAcE,iBAAiB,SArBJ,SAAAC,GACzBF,EAAYhC,MAAQ,EAEpBgC,EACGO,qBACA5B,MAAK,SAAA6B,GACJV,EAAcuB,mBACZ,YACAlC,EAAmBqB,EAAKC,UAGtBT,EAAYhC,OAASwC,EAAKO,aAC5BhB,EAAcc,UAAUC,IAAI,Y,IAG/BG,OAAM,SAAAC,GACLC,QAAQC,IAAIF,E","sources":["node_modules/@swc/helpers/lib/_define_property.js","node_modules/@swc/helpers/lib/_class_call_check.js","node_modules/@swc/helpers/lib/_create_class.js","src/gallery/unsplash-api.js","<<jsx-config-pragma.js>>","src/gallery/gallery-cards.js","src/gallery/gallery.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _defineProperty;\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classCallCheck;\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _createClass;\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\n","export class UnsplashAPI {\n  static BASE_URL = 'https://api.unsplash.com';\n  static API_KEY = 'LxvKVGJqiSe6NcEVZOaLXC-f2JIIWZaq_o0WrF8mwJc';\n\n  constructor() {\n    this.page = null;\n    this.query = null;\n  }\n\n  fetchPhotosByQuery() {\n    const searchParams = new URLSearchParams({\n      query: this.query,\n      page: this.page,\n      per_page: 20,\n      orientation: 'portrait',\n      client_id: UnsplashAPI.API_KEY,\n    });\n\n    return fetch(`${UnsplashAPI.BASE_URL}/search/photos?${searchParams}`).then(\n      response => {\n        if (!response.ok) {\n          throw new Error(response.status);\n        }\n\n        return response.json();\n      }\n    );\n  }\n}\n",null,"export const createGalleryCards = cardsInfo => {\n  const galleryCardArr = cardsInfo.map(el => {\n    return `\n    <li class=\"gallery__item\">\n        <img src=\"${el.urls.regular}\" alt=\"${el.alt_description}\" class=\"gallery-img\">\n    </li>\n    `;\n  });\n\n  return galleryCardArr.join('');\n};\n","// https://unsplash.com/\nimport { UnsplashAPI } from './unsplash-api.js';\nimport { createGalleryCards } from './gallery-cards.js';\n\nconst searchFormEl = document.querySelector('.js-search-form');\nconst galleryListEl = document.querySelector('.js-gallery');\nconst loadMoreBtnEl = document.querySelector('.js-load-more');\n\nconst unsplashApi = new UnsplashAPI();\n\nconst onSearchFormSubmit = event => {\n  event.preventDefault();\n\n  unsplashApi.query = event.target.elements.user_search_query.value.trim();\n  unsplashApi.page = 1;\n\n  unsplashApi\n    .fetchPhotosByQuery()\n    .then(data => {\n      if (data.results.length === 0) {\n        alert('За вашим запитом зображень не знайдено!');\n\n        event.target.reset();\n\n        galleryListEl.innerHTML = '';\n\n        loadMoreBtnEl.classList.add('is-hidden');\n\n        return;\n      }\n\n      if (data.total_pages > 1) {\n        loadMoreBtnEl.classList.remove('is-hidden');\n      }\n\n      galleryListEl.innerHTML = createGalleryCards(data.results);\n    })\n    .catch(err => {\n      console.log(err);\n    });\n};\n\nconst onLoadMoreBtnClick = event => {\n  unsplashApi.page += 1;\n\n  unsplashApi\n    .fetchPhotosByQuery()\n    .then(data => {\n      galleryListEl.insertAdjacentHTML(\n        'beforeend',\n        createGalleryCards(data.results)\n      );\n\n      if (unsplashApi.page === data.total_pages) {\n        loadMoreBtnEl.classList.add('is-hidden');\n      }\n    })\n    .catch(err => {\n      console.log(err);\n    });\n};\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\nloadMoreBtnEl.addEventListener('click', onLoadMoreBtnClick);\n"],"names":["Object","defineProperty","module","exports","value","default","obj","key","enumerable","configurable","writable","$665014edacbfe17b$exports","instance","Constructor","TypeError","$74e7f8130373505f$var$_defineProperties","target","props","i","length","descriptor","$74e7f8130373505f$exports","protoProps","staticProps","prototype","$1080201c45342129$export$85d6d7b537f17cf1","UnsplashAPI","this","page","query","searchParams","URLSearchParams","per_page","orientation","client_id","API_KEY","fetch","concat","BASE_URL","then","response","ok","Error","status","json","$parcel$interopDefault","$hKHmD","$440e6aa9971cf37f$export$e5fe54de13a924ea","cardsInfo","map","el","urls","regular","alt_description","join","$99348d856788ce6f$var$searchFormEl","document","querySelector","$99348d856788ce6f$var$galleryListEl","$99348d856788ce6f$var$loadMoreBtnEl","$99348d856788ce6f$var$unsplashApi","addEventListener","event","preventDefault","elements","user_search_query","trim","fetchPhotosByQuery","data","results","alert","reset","innerHTML","classList","add","total_pages","remove","catch","err","console","log","insertAdjacentHTML"],"version":3,"file":"gallery.0debea02.js.map"}