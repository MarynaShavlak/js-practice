{"mappings":"mkBAAA,aACAA,OAAOC,eAAeC,EAAAC,QAAS,aAAc,CACzCC,OAAO,IAEXF,EAAAC,QAAQE,QACR,SAAyBC,EAAKC,EAAKH,GAC3BG,KAAOD,EACPN,OAAOC,eAAeK,EAAKC,EAAK,CAC5BH,MAAOA,EACPI,YAAY,EACZC,cAAc,EACdC,UAAU,IAGdJ,EAAIC,GAAOH,EAEf,OAAOE,C,KChBX,IAAAK,EAAAC,EAAA,S,uCAEOC,ECFJ,W,sBDEUC,I,aAKTC,KAAKC,KAAO,KACZD,KAAKE,MAAQ,I,iBAGfV,IAAA,qB,MAAA,WACE,IAAMW,EAAe,CACnBC,OAAQ,CACNF,MAAOF,KAAKE,MACZD,KAAMD,KAAKC,KACXI,SAAU,GACVC,YAAa,WACbC,UAAWR,EAAYS,UAI3B,OAAOC,EAAAnB,QAAMoB,IAAI,GAAwBC,OAArBZ,EAAYa,SAAS,kBAAiBT,E,OCtB3D,GDGDU,EAAAC,EAAA,CADWhB,EACJ,WAAW,4BAClBe,EAAAC,EAAA,CAFWhB,EAEJ,UAAU,+CEJZ,IAAMiB,EAAqB,SAAAC,GAShC,OARuBA,EAAUC,KAAI,SAAAC,GACnC,MAAO,uDAEkCP,OAAzBO,EAAGC,KAAKC,QAAQ,WAA4BT,OAAnBO,EAAGG,gBAAgB,0C,IAKxCC,KAAK,G,ECLvBC,EAAeC,SAASC,cAAc,mBACtCC,EAAgBF,SAASC,cAAc,eACvCE,EAAgBH,SAASC,cAAc,iBAEvCG,EAAc,IAAI9B,EA2DxByB,EAAaM,iBAAiB,UAzDH,SAAAC,GACzBA,EAAMC,iBAENH,EAAY1B,MAAQ4B,EAAME,OAAOC,SAASC,kBAAkB7C,MAAM8C,OAClEP,EAAY3B,KAAO,EAEnB2B,EACGQ,qBACAC,MAAK,SAAAC,GACJ,IAAMC,EAAWD,EAATC,KAER,GADAC,QAAQC,IAAIH,GACgB,IAAxBC,EAAKG,QAAQC,OASf,OARAC,MAAM,2CAENd,EAAME,OAAOa,QAEbnB,EAAcoB,UAAY,QAE1BnB,EAAcoB,UAAUC,IAAI,aAK1BT,EAAKU,YAAc,GACrBtB,EAAcoB,UAAUG,OAAO,aAGjCxB,EAAcoB,UAAY/B,EAAmBwB,EAAKG,Q,IAEnDS,OAAM,SAAAC,GACLZ,QAAQC,IAAIW,E,OA4BlBzB,EAAcE,iBAAiB,SAxBJ,SAAAC,GACzBF,EAAY3B,MAAQ,EAEpB2B,EACGQ,qBACAC,MAAK,SAAAC,GACJ,IAAMC,EAAWD,EAATC,KACFG,EAAcH,EAAZG,QAERhB,EAAc2B,mBACZ,YACAtC,EAAmB2B,IAGjBd,EAAY3B,OAASsC,EAAKU,aAC5BtB,EAAcoB,UAAUC,IAAI,Y,IAG/BG,OAAM,SAAAC,GACLZ,QAAQC,IAAIW,E","sources":["node_modules/@swc/helpers/lib/_define_property.js","src/gallery-axios/unsplash-api-axios.js","<<jsx-config-pragma.js>>","src/gallery-axios/gallery-cards-axios.js","src/gallery-axios/gallery-axios.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _defineProperty;\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\n","import axios from 'axios';\n\nexport class UnsplashAPI {\n  static BASE_URL = 'https://api.unsplash.com';\n  static API_KEY = 'LxvKVGJqiSe6NcEVZOaLXC-f2JIIWZaq_o0WrF8mwJc';\n\n  constructor() {\n    this.page = null;\n    this.query = null;\n  }\n\n  fetchPhotosByQuery() {\n    const searchParams = {\n      params: {\n        query: this.query,\n        page: this.page,\n        per_page: 20,\n        orientation: 'portrait',\n        client_id: UnsplashAPI.API_KEY,\n      },\n    };\n\n    return axios.get(`${UnsplashAPI.BASE_URL}/search/photos`, searchParams);\n  }\n}\n",null,"export const createGalleryCards = cardsInfo => {\n  const galleryCardArr = cardsInfo.map(el => {\n    return `\n    <li class=\"gallery__item\">\n        <img src=\"${el.urls.regular}\" alt=\"${el.alt_description}\" class=\"gallery-img\">\n    </li>\n    `;\n  });\n\n  return galleryCardArr.join('');\n};\n","// https://unsplash.com/\nimport { UnsplashAPI } from './unsplash-api-axios.js';\nimport { createGalleryCards } from './gallery-cards-axios';\n\nconst searchFormEl = document.querySelector('.js-search-form');\nconst galleryListEl = document.querySelector('.js-gallery');\nconst loadMoreBtnEl = document.querySelector('.js-load-more');\n\nconst unsplashApi = new UnsplashAPI();\n\nconst onSearchFormSubmit = event => {\n  event.preventDefault();\n\n  unsplashApi.query = event.target.elements.user_search_query.value.trim();\n  unsplashApi.page = 1;\n\n  unsplashApi\n    .fetchPhotosByQuery()\n    .then(res => {\n      const { data } = res;\n      console.log(res);\n      if (data.results.length === 0) {\n        alert('За вашим запитом зображень не знайдено!');\n\n        event.target.reset();\n\n        galleryListEl.innerHTML = '';\n\n        loadMoreBtnEl.classList.add('is-hidden');\n\n        return;\n      }\n\n      if (data.total_pages > 1) {\n        loadMoreBtnEl.classList.remove('is-hidden');\n      }\n\n      galleryListEl.innerHTML = createGalleryCards(data.results);\n    })\n    .catch(err => {\n      console.log(err);\n    });\n};\n\nconst onLoadMoreBtnClick = event => {\n  unsplashApi.page += 1;\n\n  unsplashApi\n    .fetchPhotosByQuery()\n    .then(res => {\n      const { data } = res;\n      const { results } = data;\n\n      galleryListEl.insertAdjacentHTML(\n        'beforeend',\n        createGalleryCards(results)\n      );\n\n      if (unsplashApi.page === data.total_pages) {\n        loadMoreBtnEl.classList.add('is-hidden');\n      }\n    })\n    .catch(err => {\n      console.log(err);\n    });\n};\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\nloadMoreBtnEl.addEventListener('click', onLoadMoreBtnClick);\n"],"names":["Object","defineProperty","module","exports","value","default","obj","key","enumerable","configurable","writable","$8MBJY","parcelRequire","$6b65a62be89f190d$export$85d6d7b537f17cf1","UnsplashAPI","this","page","query","searchParams","params","per_page","orientation","client_id","API_KEY","$dIxxU","get","concat","BASE_URL","$parcel$interopDefault","$hKHmD","$6fe5473634e59178$export$e5fe54de13a924ea","cardsInfo","map","el","urls","regular","alt_description","join","$db3555e51867cd69$var$searchFormEl","document","querySelector","$db3555e51867cd69$var$galleryListEl","$db3555e51867cd69$var$loadMoreBtnEl","$db3555e51867cd69$var$unsplashApi","addEventListener","event","preventDefault","target","elements","user_search_query","trim","fetchPhotosByQuery","then","res","data","console","log","results","length","alert","reset","innerHTML","classList","add","total_pages","remove","catch","err","insertAdjacentHTML"],"version":3,"file":"gallery-axios.ce699ec9.js.map"}